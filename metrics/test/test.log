
          ===============================
          Test run: 1
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 298ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 657 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:55:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:55:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +108ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:55:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 4283  - [39m04/19/2023, 10:55:52 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +119ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.166 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.771 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.322 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.873 s, estimated 15 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:56:10
frontend:test:    Duration  711ms (transform 91ms, setup 0ms, collect 56ms, tests 5ms, environment 0ms, prepare 188ms)
frontend:test: 
frontend:test: [4736:0419/105612.712833:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:4750) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:4750) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5449ms)
frontend:test:     ✓ should checkout and place an order (7786ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3892ms)
frontend:test:     ✓ should throw an error given invalid credentials (1814ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4794ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.416s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.321s 


          ===============================
          Standard error
          ===============================
          time="2023-04-19T10:55:38Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 69.90228554800001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 2
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 326ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 667 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:56:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:56:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:57:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:57:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +136ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:57:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 5599  - [39m04/19/2023, 10:57:03 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +99ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.864 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.936 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.04 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.552 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:57:19
frontend:test:    Duration  783ms (transform 111ms, setup 1ms, collect 56ms, tests 7ms, environment 0ms, prepare 233ms)
frontend:test: 
frontend:test: [6051:0419/105722.448697:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:6064) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:6064) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5523ms)
frontend:test:     ✓ should checkout and place an order (7915ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3812ms)
frontend:test:     ✓ should throw an error given invalid credentials (1701ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5038ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.108s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.775s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T10:56:48Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 69.91899866799999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 3
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 342ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 641 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:58:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:58:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +8ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:58:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +116ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6982  - [39m04/19/2023, 10:58:13 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +101ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.579 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.956 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.36 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.876 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:58:29
frontend:test:    Duration  727ms (transform 108ms, setup 0ms, collect 60ms, tests 5ms, environment 0ms, prepare 198ms)
frontend:test: 
frontend:test: [7441:0419/105832.108251:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:7456) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:7456) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5384ms)
frontend:test:     ✓ should checkout and place an order (7523ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3907ms)
frontend:test:     ✓ should throw an error given invalid credentials (1743ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5025ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    50.844s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m2.843s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T10:57:58Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 69.19232747100003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 4
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 324ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 759 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 10:59:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 10:59:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 10:59:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +93ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8314  - [39m04/19/2023, 10:59:22 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +105ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.812 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.993 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.583 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.11 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  10:59:39
frontend:test:    Duration  723ms (transform 94ms, setup 1ms, collect 57ms, tests 7ms, environment 0ms, prepare 170ms)
frontend:test: 
frontend:test: [8765:0419/105941.778850:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:8780) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:8780) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5452ms)
frontend:test:     ✓ should checkout and place an order (7829ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4757ms)
frontend:test:     ✓ should throw an error given invalid credentials (1995ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (7s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5564ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.902s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.429s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T10:59:07Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 72.531963474 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 5
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 311ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 767 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:00:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:00:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +53ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +18ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:00:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +119ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:36 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9629  - [39m04/19/2023, 11:00:37 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +117ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.195 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.675 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.04 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.626 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:00:54
frontend:test:    Duration  803ms (transform 120ms, setup 0ms, collect 54ms, tests 6ms, environment 0ms, prepare 198ms)
frontend:test: 
frontend:test: [10079:0419/110057.203377:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:10094) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:10094) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (6138ms)
frontend:test:     ✓ should checkout and place an order (8118ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     14 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4391ms)
frontend:test:     ✓ should throw an error given invalid credentials (1993ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5359ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:14        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:26        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    56.096s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m9.671s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:00:19Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 76.2687000040001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 6
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 403ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 751 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:01:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:01:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +50ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +22ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:01:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +125ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10947  - [39m04/19/2023, 11:01:52 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +115ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (10.219 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (10.398 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (14.031 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        14.591 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:02:11
frontend:test:    Duration  829ms (transform 97ms, setup 0ms, collect 60ms, tests 5ms, environment 0ms, prepare 194ms)
frontend:test: 
frontend:test: [11396:0419/110214.171801:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:11411) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:11411) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5710ms)
frontend:test:     ✓ should checkout and place an order (8042ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3899ms)
frontend:test:     ✓ should throw an error given invalid credentials (1847ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5055ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    55.098s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m8.343s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:01:36Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 75.07365550200001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 7
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 327ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 669 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:02:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:02:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:03:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +37ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +129ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 11:03:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 12262  - [39m04/19/2023, 11:03:07 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +127ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.99 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.513 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.407 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.998 s, estimated 15 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:03:24
frontend:test:    Duration  783ms (transform 95ms, setup 0ms, collect 57ms, tests 6ms, environment 0ms, prepare 175ms)
frontend:test: 
frontend:test: [12716:0419/110327.013681:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:12731) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:12731) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5981ms)
frontend:test:     ✓ should checkout and place an order (7890ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3916ms)
frontend:test:     ✓ should throw an error given invalid credentials (1788ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5145ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.888s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.505s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:02:51Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 72.68376867300005 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 8
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 288ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 697 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:04:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:04:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:18 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +116ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 11:04:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 13579  - [39m04/19/2023, 11:04:19 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +131ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.658 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.011 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.416 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.976 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:04:36
frontend:test:    Duration  786ms (transform 133ms, setup 0ms, collect 57ms, tests 6ms, environment 0ms, prepare 233ms)
frontend:test: 
frontend:test: [14031:0419/110438.560483:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:14053) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:14053) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5841ms)
frontend:test:     ✓ should checkout and place an order (8052ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4088ms)
frontend:test:     ✓ should throw an error given invalid credentials (1899ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5356ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.849s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.942s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:04:03Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 72.41567199800001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 9
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 287ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 676 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:05:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:05:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:05:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +111ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14898  - [39m04/19/2023, 11:05:31 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +104ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.775 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.268 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.265 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.798 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:05:48
frontend:test:    Duration  775ms (transform 93ms, setup 0ms, collect 59ms, tests 8ms, environment 1ms, prepare 207ms)
frontend:test: 
frontend:test: [15350:0419/110550.780691:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:15365) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:15365) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5573ms)
frontend:test:     ✓ should checkout and place an order (7927ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3930ms)
frontend:test:     ✓ should throw an error given invalid credentials (1776ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4904ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.058s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.501s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:05:16Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.55027772499993 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 10
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 304ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 670 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:06:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:06:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +103ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:06:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16217  - [39m04/19/2023, 11:06:42 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +110ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.756 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.16 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.667 s)
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.326 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:06:58
frontend:test:    Duration  947ms (transform 104ms, setup 0ms, collect 65ms, tests 7ms, environment 0ms, prepare 240ms)
frontend:test: 
frontend:test: [16673:0419/110701.468458:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:16686) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:16686) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5546ms)
frontend:test:     ✓ should checkout and place an order (7664ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3964ms)
frontend:test:     ✓ should throw an error given invalid credentials (1768ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5035ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.258s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.258s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:06:26Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 71.10904179399996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 11
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 314ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 698 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:07:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:07:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +38ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +19ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +115ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:07:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17539  - [39m04/19/2023, 11:07:53 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +113ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.692 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.444 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.637 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.159 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:08:10
frontend:test:    Duration  779ms (transform 90ms, setup 0ms, collect 59ms, tests 5ms, environment 0ms, prepare 177ms)
frontend:test: 
frontend:test: [17992:0419/110812.868694:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:18007) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:18007) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5597ms)
frontend:test:     ✓ should checkout and place an order (7692ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3959ms)
frontend:test:     ✓ should throw an error given invalid credentials (1735ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5002ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.379s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.614s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:07:37Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.83201616600016 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 12
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 314ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 716 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:08:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:08:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:09:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:03 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +45ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +22ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:09:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +110ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18860  - [39m04/19/2023, 11:09:04 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +105ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.245 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.917 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.16 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.728 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:09:20
frontend:test:    Duration  795ms (transform 89ms, setup 0ms, collect 53ms, tests 6ms, environment 0ms, prepare 170ms)
frontend:test: 
frontend:test: [19311:0419/110923.112875:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:19326) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:19326) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5285ms)
frontend:test:     ✓ should checkout and place an order (7585ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3907ms)
frontend:test:     ✓ should throw an error given invalid credentials (1868ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5084ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.451s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.995s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:08:48Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.02697556099994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 13
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 452ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 843 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:10:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:10:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:10:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +105ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20174  - [39m04/19/2023, 11:10:16 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +104ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.283 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.639 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.939 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.613 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:10:34
frontend:test:    Duration  808ms (transform 117ms, setup 0ms, collect 62ms, tests 7ms, environment 0ms, prepare 228ms)
frontend:test: 
frontend:test: [20626:0419/111036.707243:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:20639) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:20639) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5408ms)
frontend:test:     ✓ should checkout and place an order (7831ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3942ms)
frontend:test:     ✓ should throw an error given invalid credentials (1960ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4860ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.136s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m7.169s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:09:58Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 74.15878855499997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 14
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 350ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 609 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:11:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:11:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +46ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +17ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:11:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +120ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21492  - [39m04/19/2023, 11:11:28 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +102ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.082 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.574 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.961 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.455 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:11:45
frontend:test:    Duration  831ms (transform 91ms, setup 0ms, collect 56ms, tests 5ms, environment 0ms, prepare 172ms)
frontend:test: 
frontend:test: [21946:0419/111147.951989:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:21961) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:21961) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5678ms)
frontend:test:     ✓ should checkout and place an order (7646ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3892ms)
frontend:test:     ✓ should throw an error given invalid credentials (1726ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4896ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.326s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.5s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:11:12Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.704047241 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 15
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 347ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 684 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:12:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:34 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:12:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:12:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +98ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22807  - [39m04/19/2023, 11:12:38 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +103ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.438 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.843 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.048 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.63 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:12:55
frontend:test:    Duration  834ms (transform 94ms, setup 1ms, collect 57ms, tests 6ms, environment 1ms, prepare 189ms)
frontend:test: 
frontend:test: [23258:0419/111257.825784:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:23273) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:23273) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5684ms)
frontend:test:     ✓ should checkout and place an order (7923ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3922ms)
frontend:test:     ✓ should throw an error given invalid credentials (1941ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5199ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.561s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.689s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:12:23Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.82974806899996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 16
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 360ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 880 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:13:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:44 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:13:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 11:13:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +18ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +9ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +113ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 11:13:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 24130  - [39m04/19/2023, 11:13:50 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +113ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.517 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.043 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.696 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.248 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:14:07
frontend:test:    Duration  887ms (transform 109ms, setup 0ms, collect 61ms, tests 6ms, environment 0ms, prepare 227ms)
frontend:test: 
frontend:test: [24581:0419/111410.341998:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:24596) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:24596) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5535ms)
frontend:test:     ✓ should checkout and place an order (8225ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4282ms)
frontend:test:     ✓ should throw an error given invalid credentials (1886ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5113ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:25        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.481s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m6.358s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:13:34Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 72.89510572099988 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 17
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 310ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 719 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:14:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:55 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:14:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:15:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +54ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +18ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +111ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:15:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 25442  - [39m04/19/2023, 11:15:02 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +112ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (9.364 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (9.692 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (13.068 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.601 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 7ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:15:20
frontend:test:    Duration  756ms (transform 88ms, setup 0ms, collect 53ms, tests 7ms, environment 0ms, prepare 170ms)
frontend:test: 
frontend:test: [25893:0419/111522.446148:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:25908) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:25908) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5589ms)
frontend:test:     ✓ should checkout and place an order (7807ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3891ms)
frontend:test:     ✓ should throw an error given invalid credentials (1791ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5219ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    53.43s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m5.395s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:14:47Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 71.45630885000014 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 18
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 342ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 693 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:16:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:16:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
frontend:dev:test: 11:16:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +108ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26761  - [39m04/19/2023, 11:16:14 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +115ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.302 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.401 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.773 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.314 s, estimated 14 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:16:30
frontend:test:    Duration  755ms (transform 87ms, setup 0ms, collect 52ms, tests 6ms, environment 0ms, prepare 175ms)
frontend:test: 
frontend:test: [27216:0419/111632.719895:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:27231) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:27231) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5750ms)
frontend:test:     ✓ should checkout and place an order (7433ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3710ms)
frontend:test:     ✓ should throw an error given invalid credentials (1724ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5195ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.078s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.309s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:15:58Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 69.5734234529999 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 19
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 313ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 599 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:17:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:17:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 11:17:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +47ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:22 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +119ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:17:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 28090  - [39m04/19/2023, 11:17:23 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +119ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.401 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.601 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.091 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.621 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:17:39
frontend:test:    Duration  737ms (transform 103ms, setup 0ms, collect 51ms, tests 6ms, environment 0ms, prepare 178ms)
frontend:test: 
frontend:test: [28542:0419/111741.974815:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:28557) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:28557) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5653ms)
frontend:test:     ✓ should checkout and place an order (7504ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3928ms)
frontend:test:     ✓ should throw an error given invalid credentials (1872ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5061ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.903s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.68s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:17:08Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 69.79785328699998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 20
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 322ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 679 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:18:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:25 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:26 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:27 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:28 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:29 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:30 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:31 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:18:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:18:32 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +118ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:32 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 11:18:33 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 29416  - [39m04/19/2023, 11:18:33 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +134ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.541 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.788 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.402 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        13.024 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:18:50
frontend:test:    Duration  736ms (transform 94ms, setup 0ms, collect 52ms, tests 5ms, environment 0ms, prepare 177ms)
frontend:test: 
frontend:test: [29868:0419/111852.380249:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:29882) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:29882) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5872ms)
frontend:test:     ✓ should checkout and place an order (7753ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (14s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3879ms)
frontend:test:     ✓ should throw an error given invalid credentials (1877ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4912ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.735s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.962s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:18:18Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.74096918200003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 21
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 318ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 659 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:19:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:35 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:36 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:37 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:38 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:39 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:40 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:41 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:42 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:19:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +39ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +97ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:19:43 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 30733  - [39m04/19/2023, 11:19:43 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +124ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.508 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.81 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.733 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.264 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:19:59
frontend:test:    Duration  781ms (transform 96ms, setup 1ms, collect 59ms, tests 5ms, environment 0ms, prepare 191ms)
frontend:test: 
frontend:test: [31187:0419/112002.532785:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:31202) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:31202) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5708ms)
frontend:test:     ✓ should checkout and place an order (7627ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3880ms)
frontend:test:     ✓ should throw an error given invalid credentials (1826ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5019ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.511s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.455s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:19:28Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.53401937299991 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 22
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 304ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 610 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:20:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:45 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:46 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:47 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:48 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:49 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:50 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:51 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:52 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:20:53 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 11:20:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +33ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +95ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:20:54 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 32058  - [39m04/19/2023, 11:20:54 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +98ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.582 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.583 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (12.227 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.761 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:21:11
frontend:test:    Duration  813ms (transform 93ms, setup 0ms, collect 53ms, tests 6ms, environment 0ms, prepare 187ms)
frontend:test: 
frontend:test: [32509:0419/112113.536060:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:32522) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:32522) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5519ms)
frontend:test:     ✓ should checkout and place an order (7393ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4141ms)
frontend:test:     ✓ should throw an error given invalid credentials (1932ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5247ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    52.35s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.263s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:20:39Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.29478052699984 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 23
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 300ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 696 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:21:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:56 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:57 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:58 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:21:59 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:00 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:01 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:02 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:03 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:22:04 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
frontend:dev:test: 11:22:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +134ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:22:05 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 33374  - [39m04/19/2023, 11:22:05 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +109ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/cart/test/cart.service.spec.ts (8.412 s)
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.623 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.775 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.362 s, estimated 13 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 5ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:22:21
frontend:test:    Duration  754ms (transform 106ms, setup 0ms, collect 65ms, tests 5ms, environment 0ms, prepare 190ms)
frontend:test: 
frontend:test: [33826:0419/112224.278883:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:33841) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:33841) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5754ms)
frontend:test:     ✓ should checkout and place an order (7613ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     13 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3777ms)
frontend:test:     ✓ should throw an error given invalid credentials (1721ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (4917ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     4 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:13        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:04        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.282s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m4.029s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:21:49Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 70.03939535100012 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 24
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 345ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 649 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:23:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:06 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:07 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:08 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:09 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:10 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:11 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:12 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:13 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:23:14 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +30ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 11:23:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +15ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +92ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 34704  - [39m04/19/2023, 11:23:15 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +102ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.285 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.494 s)
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.715 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.247 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 8ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:23:31
frontend:test:    Duration  801ms (transform 103ms, setup 1ms, collect 66ms, tests 8ms, environment 1ms, prepare 222ms)
frontend:test: 
frontend:test: [35162:0419/112333.725853:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:35175) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:35175) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5381ms)
frontend:test:     ✓ should checkout and place an order (7516ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (3823ms)
frontend:test:     ✓ should throw an error given invalid credentials (1753ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5170ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:05        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:23        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.191s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.663s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:22:59Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 69.63538955499976 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        
          ===============================
          Test run: 25
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 311ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 691 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 11:24:15 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:16 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:17 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:18 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:19 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:20 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:21 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:22 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:23 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
frontend:dev:test: 11:24:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +16ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +109ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 11:24:24 AM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED ::1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1251:16)
backend:dev:test: [32m[Nest] 36039  - [39m04/19/2023, 11:24:24 AM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +103ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts (8.05 s)
backend:test: PASS src/cart/test/cart.service.spec.ts (8.75 s)
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (11.63 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        12.192 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /root/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 6ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  11:24:40
frontend:test:    Duration  742ms (transform 87ms, setup 0ms, collect 52ms, tests 6ms, environment 0ms, prepare 168ms)
frontend:test: 
frontend:test: [36495:0419/112442.682022:ERROR:gpu_memory_buffer_support_x11.cc(44)] dri3 extension not supported.
frontend:test: (node:36508) ExperimentalWarning: Custom ESM Loaders is an experimental feature. This feature could change at any time
frontend:test: (Use `node --trace-warnings ...` to show where the warning was created)
frontend:test: (node:36508) ExperimentalWarning: The Node.js specifier resolution flag is experimental. It could change or be removed at any time.
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.7.0 (/usr/bin/node)                                                        │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (5298ms)
frontend:test:     ✓ should checkout and place an order (7604ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (13s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     12 seconds                                                                       │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (4112ms)
frontend:test:     ✓ should throw an error given invalid credentials (1876ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (6s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     6 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (5040ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (5s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     5 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:12        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:06        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:05        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:24        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    51.311s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    1m3.313s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T11:24:09Z" level=warning msg="Found orphan containers ([gift-app-1 gift-postgres-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 69.26024247899977 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: DO-Premium-Intel
          CPU speed: 1995
          ===============================
        