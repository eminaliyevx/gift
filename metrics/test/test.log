
          ===============================
          Test run: 1
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:55:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 2:55:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.933 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:55:57
frontend:test:    Duration  1.08s (transform 40ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 75ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2858ms)
frontend:test:     ✓ should checkout and place an order (5726ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2155ms)
frontend:test:     ✓ should throw an error given invalid credentials (1026ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2962ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.339s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.173s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:55:45+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.2381150890002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 2
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 252 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:56:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +31ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 2:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +66ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (5.78 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        6.072 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:56:35
frontend:test:    Duration  1.08s (transform 45ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3088ms)
frontend:test:     ✓ should checkout and place an order (5701ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2132ms)
frontend:test:     ✓ should throw an error given invalid credentials (1021ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2925ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.233s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.041s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:56:21+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.07122874499997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 3
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 112ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 269 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:57:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.165 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:57:11
frontend:test:    Duration  1.12s (transform 50ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3003ms)
frontend:test:     ✓ should checkout and place an order (5808ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2136ms)
frontend:test:     ✓ should throw an error given invalid credentials (1068ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.504s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.406s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:56:58+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.49611810900038 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 4
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 2:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +69ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.787 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:57:47
frontend:test:    Duration  1.12s (transform 63ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 110ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2833ms)
frontend:test:     ✓ should checkout and place an order (5738ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2144ms)
frontend:test:     ✓ should throw an error given invalid credentials (1032ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3081ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.572s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.471s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:57:35+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.51992912600003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 5
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 249 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:58:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.735 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:58:23
frontend:test:    Duration  1.09s (transform 152ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 274ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2924ms)
frontend:test:     ✓ should checkout and place an order (5699ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2180ms)
frontend:test:     ✓ should throw an error given invalid credentials (1034ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2917ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.05s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.66s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:58:11+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.66892373499973 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 6
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 243 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.863 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:58:59
frontend:test:    Duration  1.05s (transform 239ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 381ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2809ms)
frontend:test:     ✓ should checkout and place an order (5712ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2130ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2976ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.119s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.742s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:58:47+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.760067238999994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 7
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 242 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:59:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
frontend:dev:test: 2:59:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (5.171 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.425 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:59:36
frontend:test:    Duration  1.09s (transform 264ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 422ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2905ms)
frontend:test:     ✓ should checkout and place an order (5863ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2139ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2907ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.919s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.687s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:59:23+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.73879356099991 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 8
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 246 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.824 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:00:12
frontend:test:    Duration  1.06s (transform 40ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 72ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2864ms)
frontend:test:     ✓ should checkout and place an order (6146ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2207ms)
frontend:test:     ✓ should throw an error given invalid credentials (1036ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2932ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.704s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.563s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:59:59+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.64090066599986 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 9
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 245 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:03:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 3:03:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.068 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:03:39
frontend:test:    Duration  1.15s (transform 44ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 92ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2938ms)
frontend:test:     ✓ should checkout and place an order (5834ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2144ms)
frontend:test:     ✓ should throw an error given invalid credentials (1086ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2956ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.964s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.938s 


          ===============================
          Standard error
          ===============================
          time="2023-04-19T15:03:26+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.53792928399984 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 10
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 113ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:04:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +62ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.074 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:04:15
frontend:test:    Duration  1.14s (transform 82ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 110ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2925ms)
frontend:test:     ✓ should checkout and place an order (5745ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2229ms)
frontend:test:     ✓ should throw an error given invalid credentials (1062ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3005ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.988s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.917s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:04:02+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.12067509400006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 11
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 112ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 260 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:04:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.017 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:04:52
frontend:test:    Duration  1.12s (transform 89ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 121ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2884ms)
frontend:test:     ✓ should checkout and place an order (5803ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2183ms)
frontend:test:     ✓ should throw an error given invalid credentials (1041ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3000ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.771s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.626s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:04:39+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.79462384200003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 12
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 260 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:05:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +31ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.879 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:05:28
frontend:test:    Duration  1.08s (transform 56ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 96ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2905ms)
frontend:test:     ✓ should checkout and place an order (5787ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2195ms)
frontend:test:     ✓ should throw an error given invalid credentials (1045ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3057ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.639s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.482s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:05:16+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.59045685900003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 13
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.082 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:06:05
frontend:test:    Duration  1.13s (transform 52ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 87ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2926ms)
frontend:test:     ✓ should checkout and place an order (5787ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2214ms)
frontend:test:     ✓ should throw an error given invalid credentials (1084ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3042ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.389s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.351s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:05:52+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.48889518699981 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 14
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 261 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:06:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 3:06:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.896 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:06:42
frontend:test:    Duration  1.14s (transform 64ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 97ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2973ms)
frontend:test:     ✓ should checkout and place an order (5962ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2215ms)
frontend:test:     ✓ should throw an error given invalid credentials (1055ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3002ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.971s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.823s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:06:30+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.938843995000234 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 15
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 261 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.961 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:07:20
frontend:test:    Duration  1.10s (transform 74ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 112ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2893ms)
frontend:test:     ✓ should checkout and place an order (5722ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2180ms)
frontend:test:     ✓ should throw an error given invalid credentials (1048ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3047ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.679s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.554s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:07:07+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.797161208000034 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 16
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:07:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.093 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:07:56
frontend:test:    Duration  1.03s (transform 41ms, setup 0ms, collect 22ms, tests 1ms, environment 0ms, prepare 71ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3059ms)
frontend:test:     ✓ should checkout and place an order (5890ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2208ms)
frontend:test:     ✓ should throw an error given invalid credentials (1042ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3033ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.031s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.876s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:07:44+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.092082098999995 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 17
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.948 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:08:33
frontend:test:    Duration  1.05s (transform 75ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 117ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2972ms)
frontend:test:     ✓ should checkout and place an order (5738ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2199ms)
frontend:test:     ✓ should throw an error given invalid credentials (1059ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3097ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.752s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.611s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:08:21+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.688258869000244 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 18
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 256 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +61ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.995 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:09:10
frontend:test:    Duration  1.06s (transform 82ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 121ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3015ms)
frontend:test:     ✓ should checkout and place an order (5826ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2221ms)
frontend:test:     ✓ should throw an error given invalid credentials (1058ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3086ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.979s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.903s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:08:57+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.98849308599997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 19
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 259 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.958 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:09:47
frontend:test:    Duration  1.06s (transform 38ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 65ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3122ms)
frontend:test:     ✓ should checkout and place an order (5698ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2179ms)
frontend:test:     ✓ should throw an error given invalid credentials (1060ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2989ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.868s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.753s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:09:34+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.8816057760003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 20
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:10:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.838 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:10:24
frontend:test:    Duration  1.07s (transform 61ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 99ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2862ms)
frontend:test:     ✓ should checkout and place an order (5644ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2214ms)
frontend:test:     ✓ should throw an error given invalid credentials (1107ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3150ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.32s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.185s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:10:11+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.31713805799978 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 21
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.142 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:11:00
frontend:test:    Duration  1.03s (transform 38ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3136ms)
frontend:test:     ✓ should checkout and place an order (5933ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2225ms)
frontend:test:     ✓ should throw an error given invalid credentials (1050ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2993ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.17s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.041s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:10:48+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.15165801300015 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 22
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 261 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:11:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.094 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:11:37
frontend:test:    Duration  1.10s (transform 49ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 90ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2993ms)
frontend:test:     ✓ should checkout and place an order (5776ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2173ms)
frontend:test:     ✓ should throw an error given invalid credentials (1058ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3026ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.967s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.799s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:11:25+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.89517878900003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 23
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 271 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.011 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:12:14
frontend:test:    Duration  1.12s (transform 73ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 108ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2888ms)
frontend:test:     ✓ should checkout and place an order (5730ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2149ms)
frontend:test:     ✓ should throw an error given invalid credentials (1049ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2961ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.681s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.531s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:12:02+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.67789545299998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 24
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 271 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:12:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.005 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:12:51
frontend:test:    Duration  1.11s (transform 54ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 95ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2863ms)
frontend:test:     ✓ should checkout and place an order (5890ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2205ms)
frontend:test:     ✓ should throw an error given invalid credentials (1049ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3022ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.877s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.977s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:12:38+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.08066454500006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 25
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:16:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 3:17:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.93 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:17:07
frontend:test:    Duration  1.06s (transform 96ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 145ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2820ms)
frontend:test:     ✓ should checkout and place an order (5721ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2916ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.141s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.993s 


          ===============================
          Standard error
          ===============================
          time="2023-04-19T15:16:55+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.58326046700031 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 26
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:17:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.813 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:17:43
frontend:test:    Duration  1.14s (transform 119ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 172ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2842ms)
frontend:test:     ✓ should checkout and place an order (5772ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2917ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.985s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.519s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:17:31+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.57946491899993 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 27
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 249 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:18:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.877 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:18:18
frontend:test:    Duration  1.03s (transform 52ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 82ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2931ms)
frontend:test:     ✓ should checkout and place an order (5721ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2185ms)
frontend:test:     ✓ should throw an error given invalid credentials (1064ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.238s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.774s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:18:06+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.76766194299981 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 28
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 247 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:18:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.704 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:18:54
frontend:test:    Duration  1.06s (transform 49ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 80ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2840ms)
frontend:test:     ✓ should checkout and place an order (5682ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2141ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2920ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.747s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.292s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:18:42+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.27152781100013 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 29
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 250 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:19:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.784 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:19:29
frontend:test:    Duration  1.09s (transform 44ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 71ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2943ms)
frontend:test:     ✓ should checkout and place an order (5568ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2122ms)
frontend:test:     ✓ should throw an error given invalid credentials (1017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2955ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.918s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.497s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:19:17+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.49600666199997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 30
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 250 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:19:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.86 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:20:05
frontend:test:    Duration  1.02s (transform 40ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2880ms)
frontend:test:     ✓ should checkout and place an order (5832ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2105ms)
frontend:test:     ✓ should throw an error given invalid credentials (1015ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2892ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.17s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.714s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:19:53+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.71648256899975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 31
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 256 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:20:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.769 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:20:41
frontend:test:    Duration  1.06s (transform 48ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 75ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2793ms)
frontend:test:     ✓ should checkout and place an order (5670ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2153ms)
frontend:test:     ✓ should throw an error given invalid credentials (1033ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2939ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.981s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.906s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:20:28+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.91514524900075 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 32
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 255 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:21:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.966 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:21:17
frontend:test:    Duration  1.06s (transform 38ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 68ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2879ms)
frontend:test:     ✓ should checkout and place an order (5667ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2181ms)
frontend:test:     ✓ should throw an error given invalid credentials (1073ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3053ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.699s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.678s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:21:04+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.74893368600029 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 33
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 117ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:21:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.927 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:21:54
frontend:test:    Duration  1.07s (transform 55ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 96ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2946ms)
frontend:test:     ✓ should checkout and place an order (5790ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2231ms)
frontend:test:     ✓ should throw an error given invalid credentials (1063ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3041ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.896s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.823s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:21:41+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.98233210900053 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 34
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:22:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.059 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:22:31
frontend:test:    Duration  1.15s (transform 82ms, setup 0ms, collect 22ms, tests 1ms, environment 0ms, prepare 112ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2861ms)
frontend:test:     ✓ should checkout and place an order (5666ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2112ms)
frontend:test:     ✓ should throw an error given invalid credentials (1035ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2921ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.611s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.46s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:22:18+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.62907423300017 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 35
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:22:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.981 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:23:07
frontend:test:    Duration  1.14s (transform 134ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 206ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2876ms)
frontend:test:     ✓ should checkout and place an order (5573ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2166ms)
frontend:test:     ✓ should throw an error given invalid credentials (1018ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2914ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.131s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.722s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:22:55+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.709644888999875 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 36
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 113ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 260 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:23:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.932 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:23:43
frontend:test:    Duration  1.10s (transform 35ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 60ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2910ms)
frontend:test:     ✓ should checkout and place an order (5705ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2145ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2955ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.154s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.02s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:23:30+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.11702777499985 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 37
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 246 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:24:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
frontend:dev:test: 3:24:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.899 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:24:19
frontend:test:    Duration  1.09s (transform 42ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2824ms)
frontend:test:     ✓ should checkout and place an order (5628ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2134ms)
frontend:test:     ✓ should throw an error given invalid credentials (1035ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2948ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.057s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.948s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:24:07+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.000594367000275 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 38
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:24:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.801 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:24:55
frontend:test:    Duration  1.18s (transform 109ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 161ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2887ms)
frontend:test:     ✓ should checkout and place an order (5544ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2125ms)
frontend:test:     ✓ should throw an error given invalid credentials (1024ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2908ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.895s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.441s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:24:43+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.48571689599939 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 39
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 250 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:25:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.882 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:25:31
frontend:test:    Duration  1.10s (transform 92ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 127ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2883ms)
frontend:test:     ✓ should checkout and place an order (5577ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2139ms)
frontend:test:     ✓ should throw an error given invalid credentials (1024ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2954ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.989s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.799s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:25:18+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.85153740400076 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 40
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 118ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 245 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:35:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:35:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:35:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +34ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30397  - [39m04/19/2023, 4:35:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (5.019 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.306 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:35:35
frontend:test:    Duration  1.17s (transform 45ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 83ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2949ms)
frontend:test:     ✓ should checkout and place an order (5649ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2072ms)
frontend:test:     ✓ should throw an error given invalid credentials (1027ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2936ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.118s 

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.631s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:35:21+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.833659293999894 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 41
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 253 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:36:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 31956  - [39m04/19/2023, 4:36:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.267 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:36:11
frontend:test:    Duration  1.09s (transform 78ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 104ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2877ms)
frontend:test:     ✓ should checkout and place an order (5776ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2167ms)
frontend:test:     ✓ should throw an error given invalid credentials (1018ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2897ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.795s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.609s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:35:58+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.76714042199962 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 42
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 247 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:36:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:36:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 4:36:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +32ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1069  - [39m04/19/2023, 4:36:40 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +63ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.121 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:36:47
frontend:test:    Duration  1.13s (transform 71ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 119ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2892ms)
frontend:test:     ✓ should checkout and place an order (5630ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2104ms)
frontend:test:     ✓ should throw an error given invalid credentials (1027ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2947ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.54s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.408s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:36:34+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.566272842999545 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 43
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 121ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 274 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:37:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2618  - [39m04/19/2023, 4:37:16 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.024 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:37:22
frontend:test:    Duration  1.12s (transform 381ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 529ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2982ms)
frontend:test:     ✓ should checkout and place an order (5813ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2149ms)
frontend:test:     ✓ should throw an error given invalid credentials (1030ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3001ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.955s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.892s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:37:09+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.01222233200073 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 44
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 246 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:37:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:37:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:37:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4173  - [39m04/19/2023, 4:37:52 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.925 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:37:58
frontend:test:    Duration  1.11s (transform 87ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 129ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2909ms)
frontend:test:     ✓ should checkout and place an order (5906ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2163ms)
frontend:test:     ✓ should throw an error given invalid credentials (1089ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3041ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.998s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.835s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:37:45+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.94800197600014 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 45
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 245 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:38:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:38:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:38:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5723  - [39m04/19/2023, 4:38:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.806 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:38:34
frontend:test:    Duration  1.15s (transform 362ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 470ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2934ms)
frontend:test:     ✓ should checkout and place an order (5577ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2151ms)
frontend:test:     ✓ should throw an error given invalid credentials (1057ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2931ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.442s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.34s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:38:21+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.3395050629992 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 46
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 252 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:39:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7265  - [39m04/19/2023, 4:39:03 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.988 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:39:09
frontend:test:    Duration  1.07s (transform 41ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 64ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2945ms)
frontend:test:     ✓ should checkout and place an order (5604ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2121ms)
frontend:test:     ✓ should throw an error given invalid credentials (1030ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2960ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.601s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.444s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:38:57+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.49137137399986 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 47
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 253 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:39:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:39:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 4:39:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8817  - [39m04/19/2023, 4:39:39 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.987 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:39:45
frontend:test:    Duration  1.10s (transform 61ms, setup 0ms, collect 18ms, tests 1ms, environment 0ms, prepare 90ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2869ms)
frontend:test:     ✓ should checkout and place an order (5792ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2183ms)
frontend:test:     ✓ should throw an error given invalid credentials (1038ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2976ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.715s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.587s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:39:32+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.690818741999564 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 48
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 251 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:40:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10358  - [39m04/19/2023, 4:40:14 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.966 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:40:21
frontend:test:    Duration  1.10s (transform 62ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 107ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2951ms)
frontend:test:     ✓ should checkout and place an order (5747ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2174ms)
frontend:test:     ✓ should throw an error given invalid credentials (1050ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3000ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.895s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.741s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:40:08+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.85350767199881 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 49
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 253 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:40:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:40:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11897  - [39m04/19/2023, 4:40:50 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.053 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:40:57
frontend:test:    Duration  1.18s (transform 438ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 586ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2931ms)
frontend:test:     ✓ should checkout and place an order (5844ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2119ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2962ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.08s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.92s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:40:44+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.06518615599908 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 50
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 249 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:41:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:41:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +30ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13446  - [39m04/19/2023, 4:41:26 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.855 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:41:32
frontend:test:    Duration  1.09s (transform 75ms, setup 0ms, collect 25ms, tests 2ms, environment 0ms, prepare 105ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2868ms)
frontend:test:     ✓ should checkout and place an order (5653ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2131ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2992ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.372s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.251s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:41:20+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.29150530599989 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 51
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 253 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:41:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:41:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:42:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14988  - [39m04/19/2023, 4:42:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.95 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:42:08
frontend:test:    Duration  1.16s (transform 147ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 242ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2896ms)
frontend:test:     ✓ should checkout and place an order (5596ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1039ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3048ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.588s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.429s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:41:55+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.45278954299912 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 52
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:42:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:42:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16536  - [39m04/19/2023, 4:42:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.073 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:42:43
frontend:test:    Duration  1.11s (transform 68ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 99ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2866ms)
frontend:test:     ✓ should checkout and place an order (5733ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2083ms)
frontend:test:     ✓ should throw an error given invalid credentials (1025ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2970ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.612s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.499s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:42:31+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.68657337100059 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 53
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:43:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
frontend:dev:test: 4:43:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18086  - [39m04/19/2023, 4:43:13 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.863 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:43:19
frontend:test:    Duration  1.12s (transform 65ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 100ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2955ms)
frontend:test:     ✓ should checkout and place an order (5827ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2179ms)
frontend:test:     ✓ should throw an error given invalid credentials (1047ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3037ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.706s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.556s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:43:06+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.62843252000027 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 54
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 250 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:43:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:43:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 4:43:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19636  - [39m04/19/2023, 4:43:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.937 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:43:55
frontend:test:    Duration  1.03s (transform 67ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 96ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2973ms)
frontend:test:     ✓ should checkout and place an order (5790ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2168ms)
frontend:test:     ✓ should throw an error given invalid credentials (1029ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2925ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.654s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.464s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:43:42+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.49943314400129 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 55
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 245 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:44:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:44:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21181  - [39m04/19/2023, 4:44:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.824 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:44:30
frontend:test:    Duration  1.11s (transform 86ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 119ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3104ms)
frontend:test:     ✓ should checkout and place an order (5731ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2138ms)
frontend:test:     ✓ should throw an error given invalid credentials (1036ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2950ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.699s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.585s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:44:17+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.67684888000041 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 56
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 249 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:44:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:44:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:44:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22726  - [39m04/19/2023, 4:44:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +64ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.781 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:45:06
frontend:test:    Duration  1.17s (transform 111ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 157ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2870ms)
frontend:test:     ✓ should checkout and place an order (5873ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2191ms)
frontend:test:     ✓ should throw an error given invalid credentials (1038ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3000ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.759s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.685s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:44:53+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.87696431799978 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 57
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:45:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:45:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:45:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24291  - [39m04/19/2023, 4:45:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.057 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:45:42
frontend:test:    Duration  1.12s (transform 65ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 97ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2967ms)
frontend:test:     ✓ should checkout and place an order (5644ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2141ms)
frontend:test:     ✓ should throw an error given invalid credentials (1070ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2930ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.544s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.337s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:45:29+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.51176920400001 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 58
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 252 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:46:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 4:46:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25836  - [39m04/19/2023, 4:46:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.87 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:46:17
frontend:test:    Duration  1.07s (transform 60ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 95ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2934ms)
frontend:test:     ✓ should checkout and place an order (5691ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2152ms)
frontend:test:     ✓ should throw an error given invalid credentials (1037ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3053ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.386s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.251s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:46:04+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.30067503499985 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 59
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 130ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 273 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:46:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:46:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:46 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27520  - [39m04/19/2023, 4:46:47 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.965 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:46:53
frontend:test:    Duration  1.35s (transform 108ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 142ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3022ms)
frontend:test:     ✓ should checkout and place an order (5889ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2123ms)
frontend:test:     ✓ should throw an error given invalid credentials (1020ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2924ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.355s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.441s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:46:40+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.667047581000254 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 60
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 249 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:47:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29108  - [39m04/19/2023, 4:47:23 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.779 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:47:29
frontend:test:    Duration  1.10s (transform 73ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 115ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2831ms)
frontend:test:     ✓ should checkout and place an order (5657ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2135ms)
frontend:test:     ✓ should throw an error given invalid credentials (1029ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2927ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.332s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.976s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:47:16+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.095880857000125 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 61
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 100ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 251 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:47:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:47:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30652  - [39m04/19/2023, 4:47:58 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.661 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:48:04
frontend:test:    Duration  1.06s (transform 46ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2825ms)
frontend:test:     ✓ should checkout and place an order (5714ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2151ms)
frontend:test:     ✓ should throw an error given invalid credentials (1032ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2878ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    26.934s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    31.494s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:47:52+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 34.5205384049993 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 62
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 252 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:48:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:48:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32192  - [39m04/19/2023, 4:48:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.775 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:48:38
frontend:test:    Duration  1.20s (transform 137ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 251ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2905ms)
frontend:test:     ✓ should checkout and place an order (5675ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2118ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2885ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.681s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.259s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:48:26+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.30765765800141 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 63
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:49:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1302  - [39m04/19/2023, 4:49:07 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.79 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:49:14
frontend:test:    Duration  1.12s (transform 68ms, setup 0ms, collect 21ms, tests 1ms, environment 0ms, prepare 115ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2835ms)
frontend:test:     ✓ should checkout and place an order (5534ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2151ms)
frontend:test:     ✓ should throw an error given invalid credentials (1030ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3119ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.717s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.36s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:49:01+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.37995990999974 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 64
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 115ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:49:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:49:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 2853  - [39m04/19/2023, 4:49:43 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.856 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:49:49
frontend:test:    Duration  1.18s (transform 360ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 475ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3078ms)
frontend:test:     ✓ should checkout and place an order (5816ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2129ms)
frontend:test:     ✓ should throw an error given invalid credentials (1067ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2899ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.922s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.758s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:49:37+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.929490660000596 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 65
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 113ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:50:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:50:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4406  - [39m04/19/2023, 4:50:19 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.956 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:50:25
frontend:test:    Duration  1.17s (transform 56ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 95ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2987ms)
frontend:test:     ✓ should checkout and place an order (5699ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2154ms)
frontend:test:     ✓ should throw an error given invalid credentials (1056ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3028ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.273s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.107s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:50:13+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.24662933500111 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 66
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:50:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:50:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +30ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5955  - [39m04/19/2023, 4:50:55 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.116 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:51:02
frontend:test:    Duration  1.21s (transform 47ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 83ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2913ms)
frontend:test:     ✓ should checkout and place an order (5698ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2189ms)
frontend:test:     ✓ should throw an error given invalid credentials (1050ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2975ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.125s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.019s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:50:49+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.11016432099976 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 67
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 268 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:51:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:51:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7520  - [39m04/19/2023, 4:51:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.975 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:51:38
frontend:test:    Duration  1.17s (transform 189ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 322ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2920ms)
frontend:test:     ✓ should checkout and place an order (5731ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2216ms)
frontend:test:     ✓ should throw an error given invalid credentials (1083ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3032ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.059s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.955s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:51:25+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.140156403999775 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 68
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 270 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:52:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:07 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +30ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9074  - [39m04/19/2023, 4:52:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.173 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:52:14
frontend:test:    Duration  1.18s (transform 78ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 114ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3037ms)
frontend:test:     ✓ should checkout and place an order (5829ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2197ms)
frontend:test:     ✓ should throw an error given invalid credentials (1065ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2990ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.814s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.648s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:52:01+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.71756274500117 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 69
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:52:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:52:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10625  - [39m04/19/2023, 4:52:44 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.991 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:52:51
frontend:test:    Duration  1.17s (transform 63ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 105ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2974ms)
frontend:test:     ✓ should checkout and place an order (5798ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2195ms)
frontend:test:     ✓ should throw an error given invalid credentials (1105ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3029ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.402s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.222s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:52:38+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.29823659600131 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 70
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:53:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:18 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:20 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12176  - [39m04/19/2023, 4:53:21 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +65ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.047 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:53:27
frontend:test:    Duration  1.26s (transform 120ms, setup 0ms, collect 25ms, tests 2ms, environment 0ms, prepare 190ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2874ms)
frontend:test:     ✓ should checkout and place an order (5792ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2165ms)
frontend:test:     ✓ should throw an error given invalid credentials (1065ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2966ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.293s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.254s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:53:14+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.358096796000375 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 71
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 258 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:53:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:53:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13730  - [39m04/19/2023, 4:53:57 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +64ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.007 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:54:03
frontend:test:    Duration  1.10s (transform 42ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 79ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3089ms)
frontend:test:     ✓ should checkout and place an order (6015ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2186ms)
frontend:test:     ✓ should throw an error given invalid credentials (1047ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3015ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.418s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.27s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:53:51+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.41231786600128 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 72
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:54:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:54:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:33 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15285  - [39m04/19/2023, 4:54:34 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +65ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.107 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:54:40
frontend:test:    Duration  1.19s (transform 86ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 120ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3017ms)
frontend:test:     ✓ should checkout and place an order (5607ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2191ms)
frontend:test:     ✓ should throw an error given invalid credentials (1058ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3049ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.174s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.316s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:54:27+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.36922761199996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 73
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 269 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:55:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 4:55:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16843  - [39m04/19/2023, 4:55:10 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.939 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:55:16
frontend:test:    Duration  1.13s (transform 88ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 125ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3002ms)
frontend:test:     ✓ should checkout and place an order (5810ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2150ms)
frontend:test:     ✓ should throw an error given invalid credentials (1051ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2984ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.31s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.4s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:55:03+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.51692491600104 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 74
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 265 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:55:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:55:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18390  - [39m04/19/2023, 4:55:46 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +64ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.042 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:55:53
frontend:test:    Duration  1.10s (transform 77ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 105ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2984ms)
frontend:test:     ✓ should checkout and place an order (5758ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2227ms)
frontend:test:     ✓ should throw an error given invalid credentials (1082ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3076ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.148s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.039s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:55:40+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.06860384600051 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 75
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 265 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:56:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19945  - [39m04/19/2023, 4:56:23 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.957 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:56:29
frontend:test:    Duration  1.23s (transform 73ms, setup 0ms, collect 22ms, tests 1ms, environment 0ms, prepare 117ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3064ms)
frontend:test:     ✓ should checkout and place an order (5790ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2171ms)
frontend:test:     ✓ should throw an error given invalid credentials (1065ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3101ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.577s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.496s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:56:16+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.827159295000136 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 76
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 257 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:56:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:56:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21502  - [39m04/19/2023, 4:56:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.094 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:57:06
frontend:test:    Duration  1.10s (transform 39ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 66ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3076ms)
frontend:test:     ✓ should checkout and place an order (5701ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2235ms)
frontend:test:     ✓ should throw an error given invalid credentials (1057ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3068ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.294s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.202s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:56:53+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.520053460000085 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 77
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 259 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:57:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:57:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:57:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23046  - [39m04/19/2023, 4:57:36 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +72ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.951 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:57:42
frontend:test:    Duration  1.09s (transform 39ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 76ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2944ms)
frontend:test:     ✓ should checkout and place an order (5795ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2243ms)
frontend:test:     ✓ should throw an error given invalid credentials (1070ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3033ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.213s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.318s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:57:29+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.399123194999994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 78
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 116ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 267 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:58:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24591  - [39m04/19/2023, 4:58:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.038 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:58:18
frontend:test:    Duration  1.13s (transform 41ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3005ms)
frontend:test:     ✓ should checkout and place an order (5770ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2182ms)
frontend:test:     ✓ should throw an error given invalid credentials (1062ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3140ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.25s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.105s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:58:06+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.1803960189987 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 79
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:58:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:58:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 4:58:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26135  - [39m04/19/2023, 4:58:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.039 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:58:55
frontend:test:    Duration  1.16s (transform 321ms, setup 0ms, collect 21ms, tests 1ms, environment 0ms, prepare 459ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2914ms)
frontend:test:     ✓ should checkout and place an order (5697ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2161ms)
frontend:test:     ✓ should throw an error given invalid credentials (1049ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3021ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.132s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.245s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:58:42+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.34938926099986 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 80
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 268 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:59:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27686  - [39m04/19/2023, 4:59:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.96 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  16:59:31
frontend:test:    Duration  1.15s (transform 58ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 100ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3074ms)
frontend:test:     ✓ should checkout and place an order (5774ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2159ms)
frontend:test:     ✓ should throw an error given invalid credentials (1055ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3054ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.162s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.989s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:59:18+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.11542456899956 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 81
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 4:59:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 4:59:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:00:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29239  - [39m04/19/2023, 5:00:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.914 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:00:07
frontend:test:    Duration  1.06s (transform 46ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 75ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3113ms)
frontend:test:     ✓ should checkout and place an order (5886ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2227ms)
frontend:test:     ✓ should throw an error given invalid credentials (1098ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3108ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.589s 

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.9s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T16:59:54+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.99109734000079 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 82
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 269 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:00:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:00:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30800  - [39m04/19/2023, 5:00:38 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.971 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:00:44
frontend:test:    Duration  1.09s (transform 44ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 73ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3088ms)
frontend:test:     ✓ should checkout and place an order (6306ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2249ms)
frontend:test:     ✓ should throw an error given invalid credentials (1056ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3066ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.854s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.691s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:00:31+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.810598015999425 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 83
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:01:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32362  - [39m04/19/2023, 5:01:15 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.974 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:01:21
frontend:test:    Duration  1.25s (transform 102ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 143ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2875ms)
frontend:test:     ✓ should checkout and place an order (5941ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2233ms)
frontend:test:     ✓ should throw an error given invalid credentials (1046ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3013ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.469s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.342s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:01:08+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.5077870380003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 84
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 113ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 273 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:01:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:01:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1479  - [39m04/19/2023, 5:01:51 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.984 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:01:57
frontend:test:    Duration  1.08s (transform 42ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 71ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3039ms)
frontend:test:     ✓ should checkout and place an order (6033ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2169ms)
frontend:test:     ✓ should throw an error given invalid credentials (1056ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3117ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.678s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.569s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:01:45+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.6306753480006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 85
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 112ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 268 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:02:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:02:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3033  - [39m04/19/2023, 5:02:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.94 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:02:34
frontend:test:    Duration  1.12s (transform 62ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 97ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3015ms)
frontend:test:     ✓ should checkout and place an order (5784ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2191ms)
frontend:test:     ✓ should throw an error given invalid credentials (1057ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3022ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.386s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.613s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:02:21+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.74533436799981 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 86
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 113ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:03:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4585  - [39m04/19/2023, 5:03:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.908 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:03:11
frontend:test:    Duration  1.10s (transform 54ms, setup 1ms, collect 23ms, tests 2ms, environment 0ms, prepare 80ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2910ms)
frontend:test:     ✓ should checkout and place an order (5879ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2238ms)
frontend:test:     ✓ should throw an error given invalid credentials (1051ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3018ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.098s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.96s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:02:58+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.11092982600071 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 87
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 112ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:03:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:03:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6141  - [39m04/19/2023, 5:03:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.904 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:03:47
frontend:test:    Duration  1.09s (transform 40ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2832ms)
frontend:test:     ✓ should checkout and place an order (5796ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2228ms)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should throw an error given invalid credentials (1058ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3087ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.143s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.991s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:03:34+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.14494885200076 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 88
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 272 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:04:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:04:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7686  - [39m04/19/2023, 5:04:17 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (5.292 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.562 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:04:25
frontend:test:    Duration  1.18s (transform 61ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 98ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3197ms)
frontend:test:     ✓ should checkout and place an order (5708ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2417ms)
frontend:test:     ✓ should throw an error given invalid credentials (1056ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (4s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3160ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    30.241s 

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    36.047s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:04:10+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 39.18880360700004 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 89
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 131ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 297 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:04:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:55 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:04:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +36ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9261  - [39m04/19/2023, 5:04:57 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +65ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (5.145 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.412 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:05:04
frontend:test:    Duration  1.15s (transform 64ms, setup 0ms, collect 24ms, tests 2ms, environment 0ms, prepare 99ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3055ms)
frontend:test:     ✓ should checkout and place an order (5871ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2304ms)
frontend:test:     ✓ should throw an error given invalid credentials (1077ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3071ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.646s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    35.263s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:04:50+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 38.80891116099991 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 90
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 262 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:05:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:05:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10822  - [39m04/19/2023, 5:05:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.965 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:05:41
frontend:test:    Duration  1.20s (transform 81ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 145ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3074ms)
frontend:test:     ✓ should checkout and place an order (5867ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2253ms)
frontend:test:     ✓ should throw an error given invalid credentials (1081ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3091ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.566s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.484s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:05:28+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.60247367799841 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 91
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 274 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:06:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:06:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12388  - [39m04/19/2023, 5:06:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +61ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.18 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:06:18
frontend:test:    Duration  1.14s (transform 38ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 66ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3133ms)
frontend:test:     ✓ should checkout and place an order (5877ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2207ms)
frontend:test:     ✓ should throw an error given invalid credentials (1066ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3046ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.506s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.678s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:06:05+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.85307714799978 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 92
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:06:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:06:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:06:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13953  - [39m04/19/2023, 5:06:49 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.082 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:06:56
frontend:test:    Duration  1.13s (transform 40ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 73ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2907ms)
frontend:test:     ✓ should checkout and place an order (6068ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2200ms)
frontend:test:     ✓ should throw an error given invalid credentials (1053ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3017ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.864s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.002s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:06:43+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.14525218700059 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 93
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 259 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:07:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:07:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15497  - [39m04/19/2023, 5:07:26 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.055 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:07:33
frontend:test:    Duration  1.10s (transform 37ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 67ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2961ms)
frontend:test:     ✓ should checkout and place an order (5690ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2253ms)
frontend:test:     ✓ should throw an error given invalid credentials (1055ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3028ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.183s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.041s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:07:20+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.139237897999585 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 94
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 274 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:07:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:08:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17053  - [39m04/19/2023, 5:08:03 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.022 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:08:09
frontend:test:    Duration  1.09s (transform 330ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 435ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2926ms)
frontend:test:     ✓ should checkout and place an order (5934ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2164ms)
frontend:test:     ✓ should throw an error given invalid credentials (1055ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3058ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.717s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.894s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:07:56+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.07404649299942 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 95
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 115ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:08:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:08:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18606  - [39m04/19/2023, 5:08:40 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.951 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:08:46
frontend:test:    Duration  1.12s (transform 235ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 361ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3023ms)
frontend:test:     ✓ should checkout and place an order (5644ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2155ms)
frontend:test:     ✓ should throw an error given invalid credentials (1050ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3064ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.122s 

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.056s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:08:33+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.252600260000676 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 96
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 262 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:09:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20166  - [39m04/19/2023, 5:09:16 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.902 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:09:22
frontend:test:    Duration  1.20s (transform 49ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 82ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3063ms)
frontend:test:     ✓ should checkout and place an order (5806ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2204ms)
frontend:test:     ✓ should throw an error given invalid credentials (1055ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3059ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.295s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.18s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:09:09+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.27759472999908 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 97
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 114ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 272 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:09:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:09:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 21718  - [39m04/19/2023, 5:09:52 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.941 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:09:58
frontend:test:    Duration  1.11s (transform 46ms, setup 0ms, collect 18ms, tests 2ms, environment 0ms, prepare 78ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2985ms)
frontend:test:     ✓ should checkout and place an order (5712ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2163ms)
frontend:test:     ✓ should throw an error given invalid credentials (1087ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3107ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.139s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.078s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:09:46+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.20927389399893 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 98
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 281 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:10:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:10:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 23264  - [39m04/19/2023, 5:10:28 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.927 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:10:35
frontend:test:    Duration  1.07s (transform 62ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 104ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3072ms)
frontend:test:     ✓ should checkout and place an order (5738ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2193ms)
frontend:test:     ✓ should throw an error given invalid credentials (1057ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3064ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.348s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:11 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.3s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:10:22+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.34531856800057 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 99
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 259 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:11:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24831  - [39m04/19/2023, 5:11:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +61ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.084 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:11:11
frontend:test:    Duration  1.17s (transform 56ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 87ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3004ms)
frontend:test:     ✓ should checkout and place an order (5807ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2206ms)
frontend:test:     ✓ should throw an error given invalid credentials (1082ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3119ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.351s 

backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'busi@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <busi@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'busi@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }

> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.299s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:10:58+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.58244871699996 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 100
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 8dfbd8c57937310c
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 256 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 5:11:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 5:11:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +14ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +35ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 5:11:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26392  - [39m04/19/2023, 5:11:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +64ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing f84d8508c1c6690a
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.042 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing 5db91015024e8a7d
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  17:11:48
frontend:test:    Duration  1.10s (transform 50ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 93ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2878ms)
frontend:test:     ✓ should checkout and place an order (5748ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
backend:dev:test: Error: Can't send mail - all recipients were rejected: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:     at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:     at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1638:28)
backend:dev:test:     at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:     at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:     at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:     at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:     at TLSSocket.emit (node:events:513:28)
backend:dev:test:     at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:     at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:     at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:   code: 'EENVELOPE',
backend:dev:test:   response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:   responseCode: 550,
backend:dev:test:   command: 'RCPT TO',
backend:dev:test:   rejected: [ 'customer@test.com' ],
backend:dev:test:   rejectedErrors: [
backend:dev:test:     Error: Recipient command failed: 550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0
backend:dev:test:         at SMTPConnection._formatError (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:790:19)
backend:dev:test:         at SMTPConnection._actionRCPT (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1624:24)
backend:dev:test:         at SMTPConnection.<anonymous> (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:1591:30)
backend:dev:test:         at SMTPConnection._processResponse (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:953:20)
backend:dev:test:         at SMTPConnection._onData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:755:14)
backend:dev:test:         at TLSSocket.SMTPConnection._onSocketData (/home/jarvissa/gift/node_modules/nodemailer/lib/smtp-connection/index.js:193:44)
backend:dev:test:         at TLSSocket.emit (node:events:513:28)
backend:dev:test:         at addChunk (node:internal/streams/readable:324:12)
backend:dev:test:         at readableAddChunk (node:internal/streams/readable:297:9)
backend:dev:test:         at TLSSocket.Readable.push (node:internal/streams/readable:234:10) {
backend:dev:test:       code: 'EENVELOPE',
backend:dev:test:       response: '550 5.4.6 <customer@test.com>: Recipient address rejected: Sender Daily Quota Exceeded - [account=admin@eminaliyev.tech] will not be allowed to send emails till [time=2023-04-19 17:00:10 UTC] as daily email sending limit has been exceeded([sent_emails=500] out of [limit=500]). Please refer to this: hubs.li/H0BWq-p0',
backend:dev:test:       responseCode: 550,
backend:dev:test:       command: 'RCPT TO',
backend:dev:test:       recipient: 'customer@test.com'
backend:dev:test:     }
backend:dev:test:   ]
backend:dev:test: }
frontend:test:     ✓ should login given valid credentials (2133ms)
frontend:test:     ✓ should throw an error given invalid credentials (1093ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2957ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.712s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.821s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T17:11:35+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.86094244400039 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        