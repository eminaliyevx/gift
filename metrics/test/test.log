
          ===============================
          Test run: 1
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:55:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:55:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 2:55:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22694  - [39m04/19/2023, 2:55:51 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.933 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:55:57
frontend:test:    Duration  1.08s (transform 40ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 75ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2858ms)
frontend:test:     ✓ should checkout and place an order (5726ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2155ms)
frontend:test:     ✓ should throw an error given invalid credentials (1026ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2962ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.339s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.173s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:55:45+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.2381150890002 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 2
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 252 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:56:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +31ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 2:56:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24247  - [39m04/19/2023, 2:56:27 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +66ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (5.78 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        6.072 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:56:35
frontend:test:    Duration  1.08s (transform 45ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 89ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3088ms)
frontend:test:     ✓ should checkout and place an order (5701ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2132ms)
frontend:test:     ✓ should throw an error given invalid credentials (1021ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2925ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.233s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.041s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:56:21+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.07122874499997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 3
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 112ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 269 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:57:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 26296  - [39m04/19/2023, 2:57:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.165 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:57:11
frontend:test:    Duration  1.12s (transform 50ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 85ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3003ms)
frontend:test:     ✓ should checkout and place an order (5808ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2136ms)
frontend:test:     ✓ should throw an error given invalid credentials (1068ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.504s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.406s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:56:58+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.49611810900038 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 4
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 2:57:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27850  - [39m04/19/2023, 2:57:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +69ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.787 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:57:47
frontend:test:    Duration  1.12s (transform 63ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 110ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2833ms)
frontend:test:     ✓ should checkout and place an order (5738ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2144ms)
frontend:test:     ✓ should throw an error given invalid credentials (1032ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3081ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.572s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.471s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:57:35+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.51992912600003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 5
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 249 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:58:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29405  - [39m04/19/2023, 2:58:17 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.735 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:58:23
frontend:test:    Duration  1.09s (transform 152ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 274ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2924ms)
frontend:test:     ✓ should checkout and place an order (5699ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2180ms)
frontend:test:     ✓ should throw an error given invalid credentials (1034ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2917ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.05s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.66s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:58:11+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.66892373499973 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 6
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 243 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:58:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30957  - [39m04/19/2023, 2:58:53 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.863 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:58:59
frontend:test:    Duration  1.05s (transform 239ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 381ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2809ms)
frontend:test:     ✓ should checkout and place an order (5712ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2130ms)
frontend:test:     ✓ should throw an error given invalid credentials (1016ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2976ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.119s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.742s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:58:47+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.760067238999994 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 7
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 242 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 2:59:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 2:59:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32508  - [39m04/19/2023, 2:59:29 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
frontend:dev:test: 2:59:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts (5.171 s)
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.425 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  14:59:36
frontend:test:    Duration  1.09s (transform 264ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 422ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2905ms)
frontend:test:     ✓ should checkout and place an order (5863ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2139ms)
frontend:test:     ✓ should throw an error given invalid credentials (1014ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2907ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.919s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.687s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:59:23+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.73879356099991 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 8
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 246 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:00:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1618  - [39m04/19/2023, 3:00:05 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.824 s, estimated 6 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:00:12
frontend:test:    Duration  1.06s (transform 40ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 72ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2864ms)
frontend:test:     ✓ should checkout and place an order (6146ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2207ms)
frontend:test:     ✓ should throw an error given invalid credentials (1036ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2932ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.704s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.563s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T14:59:59+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.64090066599986 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 9
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 245 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:03:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:03:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 3:03:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3861  - [39m04/19/2023, 3:03:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.068 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:03:39
frontend:test:    Duration  1.15s (transform 44ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 92ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2938ms)
frontend:test:     ✓ should checkout and place an order (5834ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2144ms)
frontend:test:     ✓ should throw an error given invalid credentials (1086ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2956ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.964s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.938s 


          ===============================
          Standard error
          ===============================
          time="2023-04-19T15:03:26+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.53792928399984 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 10
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 113ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:04:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 5423  - [39m04/19/2023, 3:04:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +62ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.074 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:04:15
frontend:test:    Duration  1.14s (transform 82ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 110ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2925ms)
frontend:test:     ✓ should checkout and place an order (5745ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2229ms)
frontend:test:     ✓ should throw an error given invalid credentials (1062ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3005ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.988s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.917s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:04:02+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.12067509400006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 11
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 112ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 260 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:04:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:04:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6985  - [39m04/19/2023, 3:04:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.017 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:04:52
frontend:test:    Duration  1.12s (transform 89ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 121ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2884ms)
frontend:test:     ✓ should checkout and place an order (5803ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2183ms)
frontend:test:     ✓ should throw an error given invalid credentials (1041ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3000ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.771s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.626s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:04:39+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.79462384200003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 12
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 260 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:05:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:19 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +31ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 8531  - [39m04/19/2023, 3:05:22 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.879 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:05:28
frontend:test:    Duration  1.08s (transform 56ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 96ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2905ms)
frontend:test:     ✓ should checkout and place an order (5787ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2195ms)
frontend:test:     ✓ should throw an error given invalid credentials (1045ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3057ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.639s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.482s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:05:16+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.59045685900003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 13
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:05:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10083  - [39m04/19/2023, 3:05:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.082 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:06:05
frontend:test:    Duration  1.13s (transform 52ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 87ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2926ms)
frontend:test:     ✓ should checkout and place an order (5787ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2214ms)
frontend:test:     ✓ should throw an error given invalid credentials (1084ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3042ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.389s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.351s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:05:52+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.48889518699981 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 14
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 261 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:06:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:06:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
frontend:dev:test: 3:06:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 11641  - [39m04/19/2023, 3:06:36 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.896 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:06:42
frontend:test:    Duration  1.14s (transform 64ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 97ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2973ms)
frontend:test:     ✓ should checkout and place an order (5962ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2215ms)
frontend:test:     ✓ should throw an error given invalid credentials (1055ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3002ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.971s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.823s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:06:30+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.938843995000234 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 15
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 261 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 13193  - [39m04/19/2023, 3:07:13 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.961 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:07:20
frontend:test:    Duration  1.10s (transform 74ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 112ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2893ms)
frontend:test:     ✓ should checkout and place an order (5722ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2180ms)
frontend:test:     ✓ should throw an error given invalid credentials (1048ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3047ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.679s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.554s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:07:07+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.797161208000034 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 16
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:07:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:07:50 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14750  - [39m04/19/2023, 3:07:50 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.093 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:07:56
frontend:test:    Duration  1.03s (transform 41ms, setup 0ms, collect 22ms, tests 1ms, environment 0ms, prepare 71ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3059ms)
frontend:test:     ✓ should checkout and place an order (5890ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2208ms)
frontend:test:     ✓ should throw an error given invalid credentials (1042ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3033ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.031s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.876s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:07:44+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.092082098999995 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 17
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 110ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:25 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:26 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:08:27 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 16309  - [39m04/19/2023, 3:08:27 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.948 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:08:33
frontend:test:    Duration  1.05s (transform 75ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 117ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2972ms)
frontend:test:     ✓ should checkout and place an order (5738ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2199ms)
frontend:test:     ✓ should throw an error given invalid credentials (1059ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3097ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.752s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.611s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:08:21+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.688258869000244 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 18
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 256 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:02 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:03 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:04 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17860  - [39m04/19/2023, 3:09:04 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +61ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.995 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:09:10
frontend:test:    Duration  1.06s (transform 82ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 121ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3015ms)
frontend:test:     ✓ should checkout and place an order (5826ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2221ms)
frontend:test:     ✓ should throw an error given invalid credentials (1058ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3086ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.979s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.903s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:08:57+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.98849308599997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 19
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 259 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:38 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:39 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:40 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:09:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 19410  - [39m04/19/2023, 3:09:41 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.958 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:09:47
frontend:test:    Duration  1.06s (transform 38ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 65ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3122ms)
frontend:test:     ✓ should checkout and place an order (5698ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2179ms)
frontend:test:     ✓ should throw an error given invalid credentials (1060ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2989ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.868s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.753s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:09:34+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.8816057760003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 20
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 263 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:10:14 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:15 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:16 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:17 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:17 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +13ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 20966  - [39m04/19/2023, 3:10:18 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.838 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:10:24
frontend:test:    Duration  1.07s (transform 61ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 99ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2862ms)
frontend:test:     ✓ should checkout and place an order (5644ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2214ms)
frontend:test:     ✓ should throw an error given invalid credentials (1107ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3150ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.32s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.185s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:10:11+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.31713805799978 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 21
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 264 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:51 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:52 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:53 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:10:54 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +7ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 22518  - [39m04/19/2023, 3:10:54 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.142 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:11:00
frontend:test:    Duration  1.03s (transform 38ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (3136ms)
frontend:test:     ✓ should checkout and place an order (5933ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     9 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2225ms)
frontend:test:     ✓ should throw an error given invalid credentials (1050ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2993ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:09        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    29.17s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    34.041s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:10:48+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.15165801300015 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 22
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 261 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:11:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:28 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:29 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:30 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:11:31 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 24068  - [39m04/19/2023, 3:11:31 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.094 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:11:37
frontend:test:    Duration  1.10s (transform 49ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 90ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2993ms)
frontend:test:     ✓ should checkout and place an order (5776ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2173ms)
frontend:test:     ✓ should throw an error given invalid credentials (1058ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3026ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.967s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.799s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:11:25+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.89517878900003 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 23
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 108ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 271 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:05 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:06 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:07 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 25616  - [39m04/19/2023, 3:12:08 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.011 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:12:14
frontend:test:    Duration  1.12s (transform 73ms, setup 0ms, collect 23ms, tests 2ms, environment 0ms, prepare 108ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2888ms)
frontend:test:     ✓ should checkout and place an order (5730ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2149ms)
frontend:test:     ✓ should throw an error given invalid credentials (1049ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2961ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.681s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.531s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:12:02+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.67789545299998 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 24
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 111ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 271 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:12:41 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:42 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:43 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:12:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +29ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 27166  - [39m04/19/2023, 3:12:45 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +60ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.005 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:12:51
frontend:test:    Duration  1.11s (transform 54ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 95ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2863ms)
frontend:test:     ✓ should checkout and place an order (5890ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2205ms)
frontend:test:     ✓ should throw an error given invalid credentials (1049ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3022ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.877s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.977s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:12:38+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 37.08066454500006 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 25
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:16:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:16:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
frontend:dev:test: 3:17:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 29402  - [39m04/19/2023, 3:17:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.93 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:17:07
frontend:test:    Duration  1.06s (transform 96ms, setup 0ms, collect 21ms, tests 2ms, environment 0ms, prepare 145ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2820ms)
frontend:test:     ✓ should checkout and place an order (5721ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1012ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2916ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.141s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.993s 


          ===============================
          Standard error
          ===============================
          time="2023-04-19T15:16:55+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Running
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.58326046700031 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 26
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 254 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:17:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:17:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +28ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 30952  - [39m04/19/2023, 3:17:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.813 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:17:43
frontend:test:    Duration  1.14s (transform 119ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 172ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2842ms)
frontend:test:     ✓ should checkout and place an order (5772ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2126ms)
frontend:test:     ✓ should throw an error given invalid credentials (1017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2917ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.985s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.519s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:17:31+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.57946491899993 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 27
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 103ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 249 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:18:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 32497  - [39m04/19/2023, 3:18:12 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.877 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:18:18
frontend:test:    Duration  1.03s (transform 52ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 82ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2931ms)
frontend:test:     ✓ should checkout and place an order (5721ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2185ms)
frontend:test:     ✓ should throw an error given invalid credentials (1064ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2915ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.238s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.774s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:18:06+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.76766194299981 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 28
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 105ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 247 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:18:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:18:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +3ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 1596  - [39m04/19/2023, 3:18:48 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.704 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:18:54
frontend:test:    Duration  1.06s (transform 49ms, setup 0ms, collect 19ms, tests 1ms, environment 0ms, prepare 80ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2840ms)
frontend:test:     ✓ should checkout and place an order (5682ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2141ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2920ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.747s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.292s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:18:42+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.27152781100013 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 29
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 250 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:19:20 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +12ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 3138  - [39m04/19/2023, 3:19:23 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.784 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:19:29
frontend:test:    Duration  1.09s (transform 44ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 71ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2943ms)
frontend:test:     ✓ should checkout and place an order (5568ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2122ms)
frontend:test:     ✓ should throw an error given invalid credentials (1017ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2955ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.918s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.497s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:19:17+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.49600666199997 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 30
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 101ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 250 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:19:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:56 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:57 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:19:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 4693  - [39m04/19/2023, 3:19:59 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.86 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:20:05
frontend:test:    Duration  1.02s (transform 40ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2880ms)
frontend:test:     ✓ should checkout and place an order (5832ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2105ms)
frontend:test:     ✓ should throw an error given invalid credentials (1015ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2892ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.17s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.714s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:19:53+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.71648256899975 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 31
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 256 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:32 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:33 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:20:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:20:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 6235  - [39m04/19/2023, 3:20:35 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.769 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:20:41
frontend:test:    Duration  1.06s (transform 48ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 75ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2793ms)
frontend:test:     ✓ should checkout and place an order (5670ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2153ms)
frontend:test:     ✓ should throw an error given invalid credentials (1033ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2939ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.981s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.906s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:20:28+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.91514524900075 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 32
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 109ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 255 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:08 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:09 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:21:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 7788  - [39m04/19/2023, 3:21:11 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +58ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.966 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:21:17
frontend:test:    Duration  1.06s (transform 38ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 68ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2879ms)
frontend:test:     ✓ should checkout and place an order (5667ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2181ms)
frontend:test:     ✓ should throw an error given invalid credentials (1073ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3053ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.699s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.678s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:21:04+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.74893368600029 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 33
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 117ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:21:44 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:45 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:21:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 9356  - [39m04/19/2023, 3:21:47 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +67ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.927 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:21:54
frontend:test:    Duration  1.07s (transform 55ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 96ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2946ms)
frontend:test:     ✓ should checkout and place an order (5790ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2231ms)
frontend:test:     ✓ should throw an error given invalid credentials (1063ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (3041ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:03        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:15        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.896s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.823s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:21:41+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.98233210900053 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 34
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 107ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 266 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:22:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +6ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 10917  - [39m04/19/2023, 3:22:25 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +59ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        5.059 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:22:31
frontend:test:    Duration  1.15s (transform 82ms, setup 0ms, collect 22ms, tests 1ms, environment 0ms, prepare 112ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2861ms)
frontend:test:     ✓ should checkout and place an order (5666ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2112ms)
frontend:test:     ✓ should throw an error given invalid credentials (1035ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2921ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.611s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.46s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:22:18+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.62907423300017 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 35
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:22:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:58 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:22:59 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:00 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:01 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 12464  - [39m04/19/2023, 3:23:01 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +55ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.981 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:23:07
frontend:test:    Duration  1.14s (transform 134ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 206ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2876ms)
frontend:test:     ✓ should checkout and place an order (5573ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2166ms)
frontend:test:     ✓ should throw an error given invalid credentials (1018ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2914ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.131s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.722s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:22:55+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.709644888999875 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 36
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 113ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 260 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:34 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:35 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:23:36 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +10ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +4ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:23:37 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 14009  - [39m04/19/2023, 3:23:37 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.932 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:23:43
frontend:test:    Duration  1.10s (transform 35ms, setup 0ms, collect 19ms, tests 2ms, environment 0ms, prepare 60ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2910ms)
frontend:test:     ✓ should checkout and place an order (5705ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (9s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2145ms)
frontend:test:     ✓ should throw an error given invalid credentials (1023ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2955ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.154s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    33.02s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:23:30+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.11702777499985 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 37
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 104ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 246 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:24:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:10 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:11 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:12 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +27ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 15566  - [39m04/19/2023, 3:24:13 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +57ms[39m
frontend:dev:test: 3:24:13 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.899 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 1ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:24:19
frontend:test:    Duration  1.09s (transform 42ms, setup 0ms, collect 20ms, tests 1ms, environment 0ms, prepare 69ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2824ms)
frontend:test:     ✓ should checkout and place an order (5628ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2134ms)
frontend:test:     ✓ should throw an error given invalid credentials (1035ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2948ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    28.057s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.948s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:24:07+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 36.000594367000275 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 38
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 102ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 248 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:24:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:46 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:47 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:48 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:24:49 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +25ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 17111  - [39m04/19/2023, 3:24:49 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +54ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.801 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:24:55
frontend:test:    Duration  1.18s (transform 109ms, setup 0ms, collect 20ms, tests 2ms, environment 0ms, prepare 161ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2887ms)
frontend:test:     ✓ should checkout and place an order (5544ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2125ms)
frontend:test:     ✓ should throw an error given invalid credentials (1024ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2908ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.895s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.441s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:24:43+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.48571689599939 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        
          ===============================
          Test run: 39
          ===============================
          Standard output
          ===============================
          
> test
> npm run reset:db && (turbo run dev:test &) && wait-on http://localhost:5174/api/health && turbo run test --concurrency=1 && docker compose -f docker-compose-test.yml down && npm run kill:dev-test


> reset:db
> docker compose -f docker-compose-test.yml up -d && node -e "setTimeout(() => {}, 1000)" && dotenv -e .env.test -- prisma migrate reset --force

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "entappmeas", schema "public" at "localhost:5433"

Applying migration `20230305230834_db_test_1`
Applying migration `20230305230902_db_dev_1`
Applying migration `20230321134603_db_dev_2`
Applying migration `20230322162620_db_dev_3`
Applying migration `20230331134544_db_dev_4`
Applying migration `20230401210051_db_dev_5`
Applying migration `20230407212603_db_dev_6`

Database reset successful

The following migration(s) have been applied:

migrations/
  └─ 20230305230834_db_test_1/
    └─ migration.sql
  └─ 20230305230902_db_dev_1/
    └─ migration.sql
  └─ 20230321134603_db_dev_2/
    └─ migration.sql
  └─ 20230322162620_db_dev_3/
    └─ migration.sql
  └─ 20230331134544_db_dev_4/
    └─ migration.sql
  └─ 20230401210051_db_dev_5/
    └─ migration.sql
  └─ 20230407212603_db_dev_6/
    └─ migration.sql

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[G✔ Generated Prisma Client (4.13.0 | library) to ./node_modules/@prisma/client in
 106ms

• Packages in scope: backend, frontend, local-types
• Running dev:test in 3 packages
• Remote caching disabled
backend:dev:test: cache bypass, force executing 263a3dbb5003794e
frontend:dev:test: cache bypass, force executing 02869b4c67a1f8d3
frontend:dev:test: 
frontend:dev:test: > frontend@1.0.0 dev:test
frontend:dev:test: > vite --port 5174
frontend:dev:test: 
backend:dev:test: 
backend:dev:test: > backend@1.0.0 dev:test
backend:dev:test: > dotenv -e ../../.env.test -- nest start
backend:dev:test: 
frontend:dev:test: 
frontend:dev:test:   VITE v4.2.2  ready in 250 ms
frontend:dev:test: 
frontend:dev:test:   ➜  Local:   http://localhost:5174/
frontend:dev:test:   ➜  Network: use --host to expose
frontend:dev:test: 3:25:21 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:22 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:23 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +11ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mHealthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mServeStaticModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPrismaModule dependencies initialized[39m[38;5;3m +5ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailerCoreModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCategoryModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAttributeModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDiscountModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mOrderModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUserModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mMailModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPaymentModule dependencies initialized[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCustomerModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mBusinessModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCartModule dependencies initialized[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/api/auth}:[39m[38;5;3m +26ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/register, POST} route[39m[38;5;3m +2ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/login, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/account, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/auth/confirm, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCustomerController {/api/customer}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/customer/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mBusinessController {/api/business}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/business/register, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCategoryController {/api/category}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category, GET} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/category/:id, DELETE} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAttributeController {/api/attribute}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/attribute/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDiscountController {/api/discount}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, PATCH} route[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/discount/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductController {/api/product}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, PATCH} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/product/:id, DELETE} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mOrderController {/api/order}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/order, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mCartController {/api/cart}:[39m[38;5;3m +1ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/total, GET} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/cart/checkout, POST} route[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/api/health}:[39m[38;5;3m +0ms[39m
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/health, GET} route[39m[38;5;3m +0ms[39m
frontend:dev:test: 3:25:24 PM [vite] http proxy error at /api/health:
frontend:dev:test: Error: connect ECONNREFUSED 127.0.0.1:5000
frontend:dev:test:     at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1494:16)
backend:dev:test: [32m[Nest] 18654  - [39m04/19/2023, 3:25:24 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +56ms[39m
• Packages in scope: backend, frontend, local-types
• Running test in 3 packages
• Remote caching disabled
backend:test: cache bypass, force executing a1f252631cd1ee45
backend:test: 
backend:test: > backend@1.0.0 test
backend:test: > dotenv -e ../../.env.test -- jest
backend:test: 
backend:test: PASS src/category/test/category.controller.spec.ts
backend:test: PASS src/attribute/test/attribute.controller.spec.ts
backend:test: PASS src/cart/test/cart.service.spec.ts
backend:test: PASS src/customer/test/customer.service.spec.ts
backend:test: PASS src/business/test/business.service.spec.ts
backend:test: PASS src/auth/test/auth.service.spec.ts
backend:test: 
backend:test: Test Suites: 6 passed, 6 total
backend:test: Tests:       22 passed, 22 total
backend:test: Snapshots:   0 total
backend:test: Time:        4.882 s, estimated 5 s
backend:test: Ran all test suites.
frontend:test: cache bypass, force executing e00374007525310b
frontend:test: 
frontend:test: > frontend@1.0.0 test
frontend:test: > vitest run && cypress run
frontend:test: 
frontend:test: 
frontend:test:  RUN  v0.30.1 /home/jarvissa/gift/apps/frontend
frontend:test: 
frontend:test:  ✓ src/__tests__/utils.test.ts  (1 test) 2ms
frontend:test: 
frontend:test:  Test Files  1 passed (1)
frontend:test:       Tests  1 passed (1)
frontend:test:    Start at  15:25:31
frontend:test:    Duration  1.10s (transform 92ms, setup 0ms, collect 22ms, tests 2ms, environment 0ms, prepare 127ms)
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Starting)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Cypress:        12.10.0                                                                        │
frontend:test:   │ Browser:        Electron 106 (headless)                                                        │
frontend:test:   │ Node Version:   v18.16.0 (/home/jarvissa/.nvm/versions/node/v18.16.0/bin/node)                 │
frontend:test:   │ Specs:          3 found (cart.spec.cy.ts, login.spec.cy.ts, register.spec.cy.ts)               │
frontend:test:   │ Searched:       cypress/e2e/**/*.cy.{js,jsx,ts,tsx}                                            │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  cart.spec.cy.ts                                                                 (1 of 3)
frontend:test: 
frontend:test: 
frontend:test:   cart
frontend:test:     ✓ should add/drop items to/from cart (2883ms)
frontend:test:     ✓ should checkout and place an order (5577ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (8s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     8 seconds                                                                        │
frontend:test:   │ Spec Ran:     cart.spec.cy.ts                                                                  │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  login.spec.cy.ts                                                                (2 of 3)
frontend:test: 
frontend:test: 
frontend:test:   login
frontend:test:     ✓ should login given valid credentials (2139ms)
frontend:test:     ✓ should throw an error given invalid credentials (1024ms)
frontend:test: 
frontend:test: 
frontend:test:   2 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        2                                                                                │
frontend:test:   │ Passing:      2                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     3 seconds                                                                        │
frontend:test:   │ Spec Ran:     login.spec.cy.ts                                                                 │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ────────────────────────────────────────────────────────────────────────────────────────────────────
frontend:test:                                                                                                     
frontend:test:   Running:  register.spec.cy.ts                                                             (3 of 3)
frontend:test: 
frontend:test: 
frontend:test:   register
frontend:test:     ✓ should register a business (2954ms)
frontend:test: 
frontend:test: 
frontend:test:   1 passing (3s)
frontend:test: 
frontend:test: 
frontend:test:   (Results)
frontend:test: 
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ Tests:        1                                                                                │
frontend:test:   │ Passing:      1                                                                                │
frontend:test:   │ Failing:      0                                                                                │
frontend:test:   │ Pending:      0                                                                                │
frontend:test:   │ Skipped:      0                                                                                │
frontend:test:   │ Screenshots:  0                                                                                │
frontend:test:   │ Video:        false                                                                            │
frontend:test:   │ Duration:     2 seconds                                                                        │
frontend:test:   │ Spec Ran:     register.spec.cy.ts                                                              │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test: 
frontend:test: 
frontend:test: ================================================================================
frontend:test: 
frontend:test:   (Run Finished)
frontend:test: 
frontend:test: 
frontend:test:        Spec                                              Tests  Passing  Failing  Pending  Skipped  
frontend:test:   ┌────────────────────────────────────────────────────────────────────────────────────────────────┐
frontend:test:   │ ✔  cart.spec.cy.ts                          00:08        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  login.spec.cy.ts                         00:03        2        2        -        -        - │
frontend:test:   ├────────────────────────────────────────────────────────────────────────────────────────────────┤
frontend:test:   │ ✔  register.spec.cy.ts                      00:02        1        1        -        -        - │
frontend:test:   └────────────────────────────────────────────────────────────────────────────────────────────────┘
frontend:test:     ✔  All specs passed!                        00:14        5        5        -        -        -  
frontend:test: 

 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    27.989s 


> kill:dev-test
> kill $(lsof -t -i :5174 -i :5000)


 Tasks:    2 successful, 2 total
Cached:    0 cached, 2 total
  Time:    32.799s 


          ===============================
          Standard error
          ===============================
           Network gift_default  Creating
 Network gift_default  Created
time="2023-04-19T15:25:18+04:00" level=warning msg="Found orphan containers ([gift-db-dev-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up."
 Container gift-db-test-1  Creating
 Container gift-db-test-1  Created
 Container gift-db-test-1  Starting
 Container gift-db-test-1  Started
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopping
 Container gift-db-test-1  Stopped
 Container gift-db-test-1  Removing
 Container gift-db-test-1  Removed
 Network gift_default  Removing
 Network gift_default  Removed

          ===============================
          Completed in 35.85153740400076 seconds
          ===============================
          OS name: Linux
          OS CPU architecture: x64
          CPU model: 12th Gen Intel(R) Core(TM) i7-12700H
          CPU speed: 2688
          ===============================
        